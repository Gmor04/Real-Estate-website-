<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prodetails</title>
</head>
<!-- CSS only -->
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous"> -->
<link rel="stylesheet" href="bootstrap-5.2.0-beta1-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="prodetails.css">

<body>
    <nav>
        <div class="nav-bar">
            <div class="doinz">
                <div class="logodiv">
                    <img class="logo" src="image/logo1.png" alt="">
                </div>
                <!-- <div class="brandname">
          REAL ESTATE
        </div> -->
            </div>
            <div class="other-side">
                <a href="Home.html" class="achr">
                    <div>HOME</div>
                </a>
                <a href="About.html" class="achr">
                    <div>ABOUT US</div>
                </a>
                <a href="OurService.html" class="achr">
                    <div>SERVICE</div>
                </a>
            </div>
            <div class="lastside">
                <div class="profilee">
                    <i class="fa-solid fa-user prop"></i>
                </div>
                <!-- <a href="#" class="my-a"><button class="my-sign-upbtn">SIGN UP</button></a>
                <a href="#" class="my-a"><button class="my-sign-upbtn">LOG IN</button></a> -->
            </div>
            <div class="toogle">
                <button class="togglebtn"><i class=" bar fa-solid fa-bars"></i></button>
            </div>
            <div class="popup-wrapper">
                <div class="popup-content">
                    <button class="popup-close"><i class=" close fa-solid fa-xmark"></i></button>
                    <ul>
                        <a href="Home.html" class="achr">
                            <li class="lii">HOME</li>
                        </a>
                        <a href="About.html" class="achr">
                            <li class="liil">ABOUT US</li>
                        </a>
                        <a href="OurService.html" class="achr">
                            <li class="liil">SERVICE</li>
                        </a>
                        <a href="index.html" class="my-a"><button class="my-sign-upbtn adv ">LOG OUT</button></a>
                        <!-- <a href="#" class="my-a"><button class="my-sign-upbtn  adv ">SIGN IN</button></a> -->
                    </ul>
                </div>

            </div>

        </div>
    </nav>


    <section class="seaction">


        <div class="main">
            <div class="leftside"></div>
            <div class="rightside">
                <div class="saf">Safety Tips</div>
                <div class="detai">
                    Do not make any upfront payment as inspection fee before seeing the property or seeing the agent you
                    contacted physically. <br>
                    When you find a property of your interest, make sure to do an appropriate finding of whom the rent
                    and other fees are to be paid to. <br>
                    All meetings with agents should be done in open locations. <br>
                    The agent is not a representative from justProperty.ng neither does PropertyPro.ng control the
                    affairs of the agent as both parties are different entities.
                </div>
            </div>
        </div>



        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">

                    <div class="row">
                        <div class="col-75">
                            <div class="container">
                                <form id="paymentForm">

                                    <div class="row">
                                        <div class="col-50">
                                            <h3>Payment</h3>
                                            <label for="fname">Accepted Cards</label>
                                            <div class="icon-container">
                                                <i class="fa fa-cc-visa" style="color:navy;"></i>
                                                <i class="fa fa-cc-amex" style="color:blue;"></i>
                                                <i class="fa fa-cc-mastercard" style="color:red;"></i>
                                                <i class="fa fa-cc-discover" style="color:orange;"></i>
                                            </div>
                                            <label for="fname"><i class="fa fa-user"></i> Full Name</label>
                                            <input type="text" id="fname" name="firstname" placeholder="John M. Doe">
                                            <label for="email"><i class="fa fa-envelope"></i> Email</label>
                                            <input type="text" id="email" class="email-address" name="email"
                                                placeholder="john@example.com" required>
                                            <label for="adr"><i class="fa-solid fa-money-bill"></i> Amount</label>
                                            <input type="text" id="adr" class="amount" name="address"
                                                placeholder="in figure" required>
                                            <label for="cname">Name on Card</label>
                                            <input type="text" id="cname" name="cardname" placeholder="John More Doe">
                                            <label for="ccnum">Credit card number</label>
                                            <input type="text" id="ccnum" name="cardnumber"
                                                placeholder="1111-2222-3333-4444">
                                            <label for="expmonth">Exp Month</label>
                                            <input type="text" id="expmonth" name="expmonth" placeholder="September">

                                            <div class="row">
                                                <div class="col-50">
                                                    <label for="expyear">Exp Year</label>
                                                    <input type="text" id="expyear" name="expyear" placeholder="2018">
                                                </div>
                                                <div class="col-50">
                                                    <label for="cvv">CVV</label>
                                                    <input type="text" id="cvv" name="cvv" placeholder="352">
                                                </div>
                                            </div>
                                            <div class="form-submit">
                                                <button type="submit" class="btn" onclick="payWithPaystack(event)"> Pay
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>



        <div class="div-five">
            <div class="last-l-div">
                <img src="image/logo1.png" alt="">
            </div>
            <div class="cnt1">
                <ul>
                    <li>OUR STORY</li>
                    <li>FRANCHISE OPPORTUNITIES</li>
                    <li>CAREERS</li>
                    <li>BLOG</li>
                    <li>CONTACT HEAD OFFICE</li>
                    <li>FIND A BRANCH</li>
                </ul>
            </div>
            <div class="icon-div">
                <i class="fa-brands fa-facebook-f"></i>
                <i class="fa-brands fa-instagram"></i>
                <i class="fa-brands fa-twitter"></i>
                <i class="fa-brands fa-linkedin-in"></i>
            </div>
            <div class="contact-div">
              <span>087 059 8888 </span>
              <span>|</span>
              <span> cx@just.property</span>
            </div>
            <div class="pless">
              Please be aware that the telephone lines in our offices may be affected by loadshedding. If you are <br>
              unable to get through, please contact us via the mobile numbers or email addresses provided on our find a branch page.
            </div>
          
        </div>
        <div class="downpart">
          Just Property 2022. All rights reserved | Privacy Policy | Terms and Conditions
        </div>
    </section>
</body>

</html>
<!-- JavaScript Bundle with Popper -->
<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script> -->
<script src="bootstrap-5.2.0-beta1-dist/js/bootstrap.bundle.min.js"></script>
<script src="https://kit.fontawesome.com/43a95b333e.js" crossorigin="anonymous"></script>
<script src="https://js.paystack.co/v1/inline.js"></script>
<!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->
<script>

    let button = document.querySelector('.togglebtn')
    let popup = document.querySelector('.popup-wrapper')
    let close = document.querySelector('.popup-close')

    button.addEventListener('click', () => {
        popup.style.display = 'block'

    })
    close.addEventListener('click', () => {
        popup.style.display = 'none'

    })

    popup.addEventListener('click', () => {
        popup.style.display = 'none'

    })

    let showw = document.querySelector('.leftside')
    let url = "http://localhost:3000/"



    async function displaymore() {
        await fetch(url + 'moredetail')
            .then(e => e.json())
            .then(data => {

                console.log(data)
                for (let index = 0; index < data.length; index++) {
                    const element = data[index];

                    console.log(element);
                    showw.innerHTML = `
        

        <div class="head">
                    <div class="des">${element.desc}</div>
                    <div class="loc"><span class="loc-det">${element.location}</span></div>
                    <div class="price">#${element.price}</div>
                    <div class="btn-div"> <button class="btn-buy" data-bs-toggle="modal" data-bs-target="#exampleModal" >Proceed to payment</button></div>
                </div>
                <div class="tail">
                    <div id="carouselExampleCaptions" class="carousel slide kaja" data-bs-ride="false">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0"
                                class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                                aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                                aria-label="Slide 3"></button>
                        </div>
                        <div class="carousel-inner bigcar">
                            <div class="carousel-item active carr">
                                <img src="${element.Image}" class="d-block  dett" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="${element.Image2}" class="d-block dett" alt="...">
                            </div>
                            <div class="carousel-item">
                                <img src="${element.Image3}" class="d-block  dett" alt="...">
                            </div>
                        </div>
                        <button class="carousel-control-prev my-auto" type="button"
                            data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
        `
                }



            })
    }
    displaymore()



    // paystack

    const paymentForm = document.getElementById('paymentForm');
    let fullname = document.querySelector('#fname');
    paymentForm.addEventListener("submit", payWithPaystack, false);
    function payWithPaystack(event) {
        event.preventDefault();
        // fillprice()
        let handler = PaystackPop.setup({
            key: 'pk_test_fa6de8dfed54006838952d2e282c32fb9553dca1', // Replace with your public key
            email: document.querySelector(".email-address").value,
            amount: document.querySelector(".amount").value * 100,
            ref: '' + Math.floor((Math.random() * 1000000000) + 1), // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you
            // label: "Optional string that replaces customer email"

            onClose: function () {
                alert('Window closed.');
                // swal("Window closed!", "Payment unsuccessful", "error");
                // window.location.href = 'prodetails.html'
            },
            callback: function (response) {
                 localStorage.setItem('Fullname', JSON.stringify(fullname.value))
                //   console.log(fullname.value)
                // console.log(reference);
                let message = 'Payment complete! proceed to receipt page ' ;
                alert(message);
                // swal("Payment complete!", "proceed to receipt page", "success");
                
                window.location.href = 'invoices.html'
            }

            
        });

        handler.openIframe();
    }

  


</script>